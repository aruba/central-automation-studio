<!-- 
=========================================================
Light Bootstrap Dashboard PRO - v2.0.1
=========================================================

Product Page: https://www.creative-tim.com/product/light-bootstrap-dashboard-pro
Copyright 2019 Creative Tim (https://www.creative-tim.com)

Coded by Creative Tim

=========================================================

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. -->

<!--
Central Automation v1.6.0
Updated: 1.12.4
Copyright Aaron Scott (WiFi Downunder) 2021-2025
-->

<!DOCTYPE html>
<html lang="en">
	<?php include 'hitCounter.php';?>
	<head>
		<meta charset="utf-8" />
		<link rel="apple-touch-icon" sizes="76x76" href="assets/img/apple-icon.png" />
		<link rel="icon" type="image/png" href="assets/img/favicon-16x16.png" sizes="16x16" />
		<link rel="icon" type="image/png" href="assets/img/favicon-32x32.png" sizes="32x32" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
		<title>Central Automation Studio</title>
		<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no" name="viewport" />
		<!--     Fonts and icons     -->
		<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700,200" rel="stylesheet" />
		<script src="https://kit.fontawesome.com/470cd80fb0.js" crossorigin="anonymous"></script>
		<!-- CSS Files -->
		<link href="assets/css/bootstrap.min.css" rel="stylesheet" />
		<link href="assets/css/light-bootstrap-dashboard.css?v=2.0.1" rel="stylesheet" />
		<link href="assets/css/cas.css?v=241023" rel="stylesheet" />
	</head>

	<body>
		<div class="wrapper wrapper-full-page">
			<!-- Navbar -->
			<nav class="navbar navbar-expand-lg navbar-transparent navbar-absolute">
				<div class="container">
					<div class="navbar-wrapper">
						<a class="navbar-brand" onclick="onFinishSetup()" href="" id="titleText" data-toggle="tooltip" data-placement="bottom" title=""> Central Automation Studio: Settings </a>
						<button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation">
							<span class="navbar-toggler-bar burger-lines"></span>
							<span class="navbar-toggler-bar burger-lines"></span>
							<span class="navbar-toggler-bar burger-lines"></span>
						</button>
					</div>
					<div class="collapse navbar-collapse justify-content-end" id="navbar">
						<ul class="navbar-nav">
							<li class="nav-item">
								<a class="nav-link" onclick="onFinishSetup()" href="" id="dashboardLink">
									<i class="central-icon ca-dashboard"></i>
								</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" onclick="showLog()" href="#">
									<i class="central-icon ca-research"></i>
								</a>
							</li>
							<li class="nav-item dropdown">
								<a class="nav-link dropdown-toggle" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
									<i class="nc-icon nc-bullet-list-67"></i>
								</a>
								<div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
									<a href="documentation.html" class="dropdown-item"> <i class="central-icon ca-book-open"></i> Help </a>
									<a href="settings.html" class="dropdown-item"> <i class="nc-icon nc-settings-gear-64"></i> Settings </a>
								</div>
							</li>
						</ul>
					</div>
				</div>
			</nav>
			<!-- End Navbar -->
			<!--   you can change the color of the filter page using: data-color="blue | azure | green | orange | red | purple" -->
			<div class="full-page register-page section-image" data-color="orange" data-image="assets/img/bg4.jpg">
				<div class="content">
					<div class="container">
						<div class="row">
							<div class="col-md-3 mx-auto">
								<button type="submit" class="btn btn-fill btn-info btn-wd btn-lg" onclick="onFinishSetup()">Save & Go To Dashboard</button>
								<br /><br />
							</div>
						</div>
						<div class="row">
							<div class="col-md-12 mx-auto">
								<div class="card card-register card-plain text-center">
									<div class="card-header ">
										<div class="row  justify-content-center">
											<div class="col-md-12">
												<div class="header-text">
													<h2 class="card-title">Central API Settings</h2>
													<hr />
												</div>
											</div>
										</div>
									</div>
									<div class="card card-body">
										<div class="row">
											<div class="col-md-9 mx-auto"></div>
											<div class="col-md-3 mx-auto">
												<button type="submit" class="btn btn-fill btn-warning btn-wd" onclick="addAccount()">Add Central Account</button>
											</div>
										</div>
										<div class="row">
											<div class="col-md-12 mx-auto">
												<div class="card-body table-striped table-no-bordered table-hover dataTable dtr-inline table-full-width">
													<div class="fresh-datatables">
														<table id="hydra-table" class="table table-striped table-no-bordered table-hover table-fixed" cellspacing="0" width="100%">
															<thead>
																<th>Name</th>
																<th>Cluster</th>
																<th>Client ID</th>
																<th>Client Secret</th>
																<th>Access Token</th>
																<th>Refresh Token</th>
																<th>Actions</th>
															</thead>
															<tbody></tbody>
														</table>
													</div>
												</div>
											</div>
										</div>
										<div class="row">
											<div class="col-md-9 mx-auto"></div>
											<div class="col-md-3 mx-auto">
												<div class="form-check">
													<label class="form-check-label-secrets">
														<input class="form-check-input" type="checkbox" value="" id="revealSecrets" checked="true" onclick="showSecrets()" />
														<span class="form-check-sign"></span>Reveal Tokens and Secrets
													</label>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="row">
							<div class="col-md-12 mx-auto">
								<div class="card card-register card-plain">
									<div class="card-header text-center">
										<div class="row  justify-content-center">
											<div class="col-md-12">
												<div class="header-text">
													<h2 class="card-title">Global Settings</h2>
													<h4 class="card-subtitle">General settings for Central Automation Studio</h4>
													<hr />
												</div>
											</div>
										</div>
									</div>
									<div class="card card-body ">
										<h4 class="card-subtitle-dark">Basic Settings</h4>
										<div class="row">
											<div class="col-md-12 mx-auto">
												<label class="col-md-3 setting-label">Refresh Interval (minutes)</label>
												<div class="col-md-3 setting-input">
													<input type="number" placeholder="30" class="form-control" id="refresh_rate" min="5" onchange="saveGlobalSettings()" oninput="this.onchange();" />
												</div>
											</div>
										</div>
										<div class="row">
											<div class="col-md-12 mx-auto">
												<label class="col-md-3 setting-label">API Data Optimization</label>
												<div class="col-md-3 setting-input">
												<select id="scaleselector" class="selectpicker" data-style="btn-default btn-outline" data-menu-style="dropdown-blue"  onchange="updateScaleSettings()">
													<option value="full">Full Details</option>
													<option value="scale">Large Scale Deployment</option>
													<option value="group">Group Config Only</option>
													<option value="custom">Custom (Use settings below)</option>
												</select>
												</div>
											</div>
										</div>
										<h4 class="card-subtitle-dark">Optional Information</h4>
										<div class="row">
											<div class="col-md-3 mx-auto">
												<div class="form-check">
													<label class="form-check-label-options">
														<input class="form-check-input" type="checkbox" value="" id="load_clients_wireless" checked="true" onclick="saveGlobalSettings();" />
														<span class="form-check-sign"></span>Wireless Client Monitoring
													</label>
												</div>
											</div>
											<div class="col-md-3 mx-auto">
												<div class="form-check">
													<label class="form-check-label-options">
														<input class="form-check-input" type="checkbox" value="" id="load_clients_wired" checked="true" onclick="saveGlobalSettings();" />
														<span class="form-check-sign"></span>Wired Client Monitoring
													</label>
												</div>
											</div>
											<div class="col-md-3 mx-auto">
												<div class="form-check">
													<label class="form-check-label-options">
														<input class="form-check-input" type="checkbox" value="" id="load_aps" checked="true" onclick="saveGlobalSettings();" />
														<span class="form-check-sign"></span>AP Monitoring
													</label>
												</div>
											</div>
											<div class="col-md-3 mx-auto">
												<div class="form-check">
													<label class="form-check-label-options">
														<input class="form-check-input" type="checkbox" value="" id="load_switches" checked="true" onclick="saveGlobalSettings();" />
														<span class="form-check-sign"></span>Switch Monitoring
													</label>
												</div>
											</div>
											<div class="col-md-3 mx-auto">
												<div class="form-check">
													<label class="form-check-label-options">
														<input class="form-check-input" type="checkbox" value="" id="load_gateways" checked="false" onclick="saveGlobalSettings();" />
														<span class="form-check-sign"></span>Gateway Monitoring
													</label>
												</div>
											</div>
											<div class="col-md-3 mx-auto">
												<div class="form-check">
													<label class="form-check-label-options">
														<input class="form-check-input" type="checkbox" value="" id="load_gateway_details" checked="false" onclick="saveGlobalSettings();" />
														<span class="form-check-sign"></span>Gateway Extra Details
													</label>
												</div>
											</div>
											<div class="col-md-3 mx-auto">
												<div class="form-check">
													<label class="form-check-label-options">
														<input class="form-check-input" type="checkbox" value="" id="load_group_properties" checked="true" onclick="saveGlobalSettings();" />
														<span class="form-check-sign"></span>Group Properties
													</label>
												</div>
											</div>
											<div class="col-md-3 mx-auto">
												<div class="form-check">
													<label class="form-check-label-options">
														<input class="form-check-input" type="checkbox" value="" id="load_vc_config" checked="true" onclick="saveGlobalSettings();" />
														<span class="form-check-sign"></span>Virtual Controller Config
													</label>
												</div>
											</div>
											<div class="col-md-3 mx-auto">
												<div class="form-check">
													<label class="form-check-label-options">
														<input class="form-check-input" type="checkbox" value="" id="load_airmatch_events" checked="true" onclick="saveGlobalSettings();" />
														<span class="form-check-sign"></span>AirMatch - All RF Events
													</label>
												</div>
											</div>
											<div class="col-md-3 mx-auto">
												<div class="form-check">
													<label class="form-check-label-options">
														<input class="form-check-input" type="checkbox" value="" id="load_optimization_history" checked="true" onclick="saveGlobalSettings();" />
														<span class="form-check-sign"></span>AirMatch - Optimization History
													</label>
												</div>
											</div>
										</div>
										
										<hr />
										<h4 class="card-subtitle-dark">QR Code Settings</h4>
										<div class="row">
											<div class="col-md-10 mx-auto">
												<label class="setting-label">QR Code Colour</label>
												<div class="col-md-3 setting-input" id="color-picker-wrapper">
													<input type="color" value="#FF8300" id="color_picker" onchange="saveGlobalSettings()" oninput="this.onchange();" />
												</div>
												<label class="setting-label">QR Code Logo</label>
												<div class="col-md-3 setting-input">
													<input type="text" placeholder="Custom Image URL" class="form-control" id="qr_logo" onchange="saveGlobalSettings()" oninput="this.onchange();" />
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>

							<div class="col-md-12 mx-auto">
								<div class="card card-register card-plain text-center">
									<div class="card-header ">
										<div class="row  justify-content-center">
											<div class="col-md-12">
												<div class="header-text">
													<h2 class="card-title">Naming Conventions</h2>
													<h4 class="card-subtitle">Enter the formats used for renaming</h4>
													<hr />
												</div>
											</div>
										</div>
									</div>
									<div class="card card-body">
										<div class="col-md-10 mx-auto">
											<div class="row">
												<label class="col-md-5 format-label">Auto Device Naming Format</label>
												<div class="col-md-5 setting-input">
													<input type="text" placeholder="{{initials}}-{{model}}-{{number}}" class="form-control" id="ap_naming_format" onchange="saveGlobalSettings()" oninput="this.onchange();" />
												</div>
											</div>

											<div class="row">
												<label class="col-md-5 format-label">Template Hostname Variable</label>
												<div class="col-md-5 setting-input">
													<input type="text" placeholder="_sys_hostname" class="form-control" pattern="^[a-zA-Z0-9_.]*$" id="hostname_variable" onchange="saveGlobalSettings()" oninput="this.onchange();" />
												</div>
											</div>

											<div class="row">
												<label class="col-md-5 format-label">Switch Port Variable</label>
												<div class="col-md-5 setting-input">
													<input type="text" placeholder="int{{number}}_name" class="form-control" pattern="^[a-zA-Z0-9_.]*$" id="port_variable_format" onchange="saveGlobalSettings()" oninput="this.onchange();" />
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
							
							<div class="col-md-12 mx-auto">
								<div class="card card-register card-plain text-center">
									<div class="card-header ">
										<div class="row  justify-content-center">
											<div class="col-md-12">
												<div class="header-text">
													<h2 class="card-title">Export/Import Settings</h2>
													<h4 class="card-subtitle">Backup Central Automation Studio configuration</h4>
													<hr />
												</div>
											</div>
										</div>
									</div>
									<div class="card card-body">
										<div class="col-md-10 mx-auto">
											<div class="row">
												<label class="col-md-5 format-label">Export</label>
												<div class="col-md-2 setting-input">
													<button type="submit" class="btn btn-fill btn-default btn-wd" onclick="exportSettings()">Export</button>
												</div>
											</div>
											
											<div class="row">
												<label class="col-md-5 format-label">Import</label>
												<div class="col-md-5 setting-input">
												<form class="form-inline">
													<div class="form-group">
														<input type="file" id="import" class="form-control btn btn-fill btn-info" accept=".json" required />&nbsp;&nbsp;<button type="button" class="btn btn-fill btn-default btn-wd" onclick="importSettings()">Import</button>
													</div>
												</form>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<!-- Account Modal -->
				<div class="modal fade modal-small modal-primary" id="AccountModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
					<div class="modal-dialog">
						<div class="modal-content">
							<div class="row">
								<div class="col-md-1"></div>
								<div class="col-md-10">
									<div class="card-body">
										<form class="form-horizontal">
											<div class="form-group">
												<div class="row">
													<label class="col-md-4">Name</label>
													<div class="col-md-8">
														<input type="text" placeholder="Name" class="form-control" id="account_name" />
													</div>
												</div>
											</div>
											<div class="form-group">
												<div class="row">
													<label class="col-md-4">Cluster</label>
													<div class="col-md-8">
														<select id="clusterselector" class="custom-select" data-title="Select a Cluster..." data-style="btn-default btn-outline" data-menu-style="dropdown-orange" onchange="isCOPSelected()"> </select>
													</div>
												</div>
												<div class="row" id="cop_address_row" hidden>
													<label class="col-md-4">Hostname</label>
													<div class="col-md-8">
														<input type="text" placeholder="COP Hostname" class="form-control" id="cop_address" />
													</div>
												</div>
											</div>
											<div class="form-group">
												<div class="row">
													<label class="col-md-4">Customer ID</label>
													<div class="col-md-8">
														<input type="text" placeholder="Central ID" class="form-control" id="central_id" />
													</div>
												</div>
											</div>
											<div class="form-group">
												<div class="row">
													<label class="col-md-4">Client ID</label>
													<div class="col-md-8">
														<input type="text" placeholder="Client ID" class="form-control" id="client_id" />
													</div>
												</div>
											</div>
											<div class="form-group">
												<div class="row">
													<label class="col-md-4">Client Secret</label>
													<div class="col-md-8">
														<input type="text" placeholder="Client Secret" class="form-control" id="client_secret" />
													</div>
												</div>
											</div>
											<div class="form-group">
												<div class="row">
													<label class="col-md-4">Access Token</label>
													<div class="col-md-8">
														<input type="text" placeholder="Access Token" class="form-control" id="access_token" />
													</div>
												</div>
											</div>
											<div class="form-group" hidden>
												<div class="row">
													<label class="col-md-4">Token Expiry</label>
													<div class="col-md-8">
														<input type="text" placeholder="Access Token Expiry" class="form-control" id="expires_at" readonly/>
													</div>
												</div>
											</div>
											<div class="form-group">
												<div class="row">
													<label class="col-md-4">Refresh Token</label>
													<div class="col-md-8">
														<input type="text" placeholder="Refresh Token" class="form-control" id="refresh_token" />
													</div>
												</div>
											</div>
											
										</form>
										<br />
										<button type="submit" class="btn btn-fill btn-neutral btn-wd" onclick="cancelAccount()">Cancel</button>
										<button type="submit" class="btn btn-fill btn-warning btn-wd" onclick="testToken()">Save</button>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<!--  End Modal -->
				<!-- Error Log Modal -->
				<div class="modal fade modal-mini modal-primary" id="ErrorModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
					<div class="modal-dialog">
						<div class="modal-content">
							<div class="row">
								<div class="col-md-12">
									<div class="card-header">
										<h4 class="card-title">Log</h4>
										<a class="refresh-link" onclick="clearErrorLog()"><i class="central-icon ca-bin"></i></a>
									</div>
									<div class="card-body" id="errorBody"></div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<!--  End Modal -->
			</div>

			<footer class="footer">
				<div class="container">
					<a data-toggle="modal" data-target="#ErrorModal" id="ErrorModalLink"></a>
					<a data-toggle="modal" data-target="#AccountModal" id="AccountModalLink"></a>
					<nav>
						<ul class="footer-menu" id="api-footer"></ul>
						<p class="copyright text-center">
							©
							<script>
								document.write(new Date().getFullYear())
							</script>
							<a href="http://www.wifidownunder.com">WiFi Downunder</a>
						</p>
						<p class="copyright text-center" id="cas-version"> </p>
					</nav>
				</div>
			</footer>
		</div>
	</body>
	<!--   Core JS Files   -->
	<script src="assets/js/core/jquery.3.2.1.min.js" type="text/javascript"></script>
	<script src="assets/js/core/popper.min.js" type="text/javascript"></script>
	<script src="assets/js/core/bootstrap.min.js" type="text/javascript"></script>
	<!--  Plugin for Switches, full documentation here: http://www.jque.re/plugins/version3/bootstrap.switch/ -->
	<script src="assets/js/plugins/bootstrap-switch.js"></script>
	<!--  Chartist Plugin  -->
	<script src="assets/js/plugins/chartist.min.js"></script>
	<!--  Notifications Plugin    -->
	<script src="assets/js/plugins/bootstrap-notify.js"></script>
	<!--  jVector Map  -->
	<script src="assets/js/plugins/jquery-jvectormap.js" type="text/javascript"></script>
	<!--  Plugin for Date Time Picker and Full Calendar Plugin-->
	<script src="assets/js/plugins/moment.min.js"></script>
	<script src="assets/js/plugins/luxon.min.js"></script>
	<!--  DatetimePicker   -->
	<script src="assets/js/plugins/bootstrap-datetimepicker.js"></script>
	<!--  Sweet Alert  -->
	<script src="assets/js/plugins/sweetalert2.all.min.js" type="text/javascript"></script>
	<!--  Tags Input  -->
	<script src="assets/js/plugins/bootstrap-tagsinput.js" type="text/javascript"></script>
	<!--  Sliders  -->
	<script src="assets/js/plugins/nouislider.js" type="text/javascript"></script>
	<!--  Bootstrap Select  -->
	<script src="assets/js/plugins/bootstrap-selectpicker.js" type="text/javascript"></script>
	<!--  jQueryValidate  -->
	<script src="assets/js/plugins/jquery.validate.min.js" type="text/javascript"></script>
	<!--  Plugin for the Wizard, full documentation here: https://github.com/VinceG/twitter-bootstrap-wizard -->
	<script src="assets/js/plugins/jquery.bootstrap-wizard.js"></script>
	<!--  Bootstrap Table Plugin -->
	<script src="assets/js/plugins/bootstrap-table.js"></script>
	<!--  DataTable Plugin -->
	<script src="assets/js/plugins/jquery.dataTables.min.js"></script>
	<script src="assets/js/plugins/ellipsis.js"></script>
	<!--  Full Calendar   -->
	<script src="assets/js/plugins/fullcalendar.min.js"></script>
	<!-- Control Center for Now Ui Dashboard: parallax effects, scripts for the example pages etc -->
	<script src="assets/js/light-bootstrap-dashboard.js?v=2.0.1" type="text/javascript"></script>
	<!-- Light Dashboard DEMO methods, don't include it in your project! -->
	<script src="assets/js/demo.js"></script>
	<script>
		$(document).ready(function() {
			getCASVersion();
			openIndexedDB();
		    demo.checkFullPageBackgroundImage();

			var color_picker = document.getElementById("color_picker");
			var color_picker_wrapper = document.getElementById("color-picker-wrapper");
			color_picker.onchange = function() {
				color_picker_wrapper.style.backgroundColor = color_picker.value;
			}
			color_picker.addEventListener("input", saveGlobalSettings, false);
	
			const input = document.getElementById('hostname_variable');
			let currentValue = input.value || '';
			input.addEventListener('input', function inputInputEventHandler(e) {
				const target = e.target;
	
				if (/^[a-zA-Z0-9_.]*$/.test(target.value)) {
					currentValue = target.value;
				} else {
					// Users enter the not supported characters
					// Restore the value and selection
					target.value = currentValue;
					target.setSelectionRange(selection.selectionStart, selection.selectionEnd);
				}
			});
			let selection = {};
			input.addEventListener('keydown', function (e) {
				const target = e.target;
				selection = {
					selectionStart: target.selectionStart,
					selectionEnd: target.selectionEnd,
				};
			});
	
			const portVariable = document.getElementById('port_variable_format');
			let currentPortValue = portVariable.value || '';
			portVariable.addEventListener('input', function inputInputEventHandler(e) {
				const target = e.target;
	
				if (/^[a-zA-Z0-9_.]*$/.test(target.value)) {
					currentPortValue = target.value;
				} else {
					// Users enter the not supported characters
					// Restore the value and selection
					target.value = currentPortValue;
					target.setSelectionRange(selection.selectionStart, selection.selectionEnd);
				}
			});
			let portSelection = {};
			portVariable.addEventListener('keydown', function (e) {
				const target = e.target;
				portSelection = {
					selectionStart: target.selectionStart,
					selectionEnd: target.selectionEnd,
				};
			});
	
			$('#hydra-table').DataTable({
				"paging": false,
				"searching": false,
				"info": false,
				"autoWidth": false,
				columnDefs: [ {
				targets: [2,3,4,5],
				render: function (data, type, full, meta) {
          					return "<div class='text-wrap width-150'>" + data + "</div>";
  					}
					}]
			});
	
			var table = $('#hydra-table').DataTable();
	
		    // Edit Account record
      		table.on('click', '.edit', function() {
          		$tr = $(this).closest('tr');

          		if ($tr.hasClass('child')) {
              		$tr = $tr.prev('.parent');
          		}

          		var data = table.row($tr).data();
          		editAccount(data[2]);
          		//alert('You press on Row: ' + data[0] + ' ' + data[1] + ' ' + data[2] + '\'s row.');
      		});

      		// Delete a record
      		table.on('click', '.remove', function(e) {
          		$tr = $(this).closest('tr');
          		var data = table.row($tr).data();
          		deleteAccount(data[2]);
      		});
	
		    if (localStorage.getItem('base_url') && !localStorage.getItem('account_details')) {
				// Old account settings - need to migrate to v1.6
				upgradeAccountSettings();
			}
	
			var showingSecrets = localStorage.getItem('reveal_secrets');
			if (showingSecrets != null && showingSecrets != "undefined") {
				document.getElementById("revealSecrets").checked = JSON.parse(showingSecrets);
			} else {
				document.getElementById("revealSecrets").checked = true;
				localStorage.setItem('reveal_secrets',true);
			}
	
		    populateCentralClusters();
			loadAccountDetails();
	
			var apNaming = localStorage.getItem('ap_naming_format');
			if (apNaming != null && apNaming != "undefined") {
				document.getElementById("ap_naming_format").value = apNaming;
			}
	
			var hostnameVariable = localStorage.getItem('hostname_variable');
			if (hostnameVariable != null && hostnameVariable != "undefined") {
				document.getElementById("hostname_variable").value = hostnameVariable;
			}
	
			var portNaming = localStorage.getItem('port_variable_format');
			if (portNaming != null && portNaming != "undefined") {
				document.getElementById("port_variable_format").value = portNaming;
			}
	
			var refreshRate = localStorage.getItem('refresh_rate');
			if (refreshRate != null && refreshRate != "undefined") {
				document.getElementById("refresh_rate").value = refreshRate;
			}
	
			var qrColor = localStorage.getItem('qr_color');
			if (qrColor != null && qrColor != "undefined") {
				document.getElementById("color_picker").value = qrColor;
			} else {
				document.getElementById("color_picker").value = "#FF8300";
			}
			color_picker_wrapper.style.backgroundColor = color_picker.value;
	
			var qrLogo = localStorage.getItem('qr_logo');
			if (qrLogo != null && qrLogo != "undefined") {
				document.getElementById("qr_logo").value = qrLogo;
			} else {
				document.getElementById("qr_logo").value = "";
			}
			
			var loadWirelessClients = localStorage.getItem('load_clients');
			if (loadWirelessClients === null || loadWirelessClients === "") {
				loadWirelessClients = true;
			} else {
				loadWirelessClients = JSON.parse(loadWirelessClients)
			}
			document.getElementById("load_clients_wireless").checked = loadWirelessClients;
			
			var loadWiredClients = localStorage.getItem('load_clients_wired');
			if (loadWiredClients === null || loadWiredClients === "") {
				loadWiredClients = true;
			} else {
				loadWiredClients = JSON.parse(loadWiredClients)
			}
			document.getElementById("load_clients_wired").checked = loadWiredClients;
			
			var loadAPs = localStorage.getItem('load_aps');
			if (loadAPs === null || loadAPs === "") {
				loadAPs = true;
			} else {
				loadAPs = JSON.parse(loadAPs)
			}
			document.getElementById("load_aps").checked = loadAPs;
			
			var loadSwitches = localStorage.getItem('load_switches');
			if (loadSwitches === null || loadSwitches === "") {
				loadSwitches = true;
			} else {
				loadSwitches = JSON.parse(loadSwitches)
			}
			document.getElementById("load_switches").checked = loadSwitches;
			
			var loadDevices = localStorage.getItem('load_devices');
			if (loadDevices === null || loadDevices === "") {
				// do nothing anymore - moved to individual loading of APs and switches
			} else {
				loadDevices = JSON.parse(loadDevices)
				document.getElementById("load_aps").checked = loadDevices;
				document.getElementById("load_switches").checked = loadDevices;
				localStorage.removeItem('load_devices');
			}
			
			var loadGateways = localStorage.getItem('load_gateways');
			if (loadGateways === null || loadGateways === "") {
				loadGateways = true;
			} else {
				loadGateways = JSON.parse(loadGateways)
			}
			document.getElementById("load_gateways").checked = loadGateways;
			
			var loadGatewayDetails = localStorage.getItem('load_gateway_details');
			if (loadGatewayDetails === null || loadGatewayDetails === "") {
				loadGatewayDetails = false;
			} else {
				loadGatewayDetails = JSON.parse(loadGatewayDetails)
			}
			document.getElementById("load_gateway_details").checked = loadGatewayDetails;
	
			var loadGroupProperties = localStorage.getItem('load_group_properties');
			if (loadGroupProperties === null || loadGroupProperties === "") {
				loadGroupProperties = true;
			} else {
				loadGroupProperties = JSON.parse(loadGroupProperties)
			}
			document.getElementById("load_group_properties").checked = loadGroupProperties;
	
			var loadAirMatchEvents = localStorage.getItem('load_airmatch_events');
			if (loadAirMatchEvents === null || loadAirMatchEvents === "") {
				loadAirMatchEvents = true;
			} else {
				loadAirMatchEvents = JSON.parse(loadAirMatchEvents)
			}
			document.getElementById("load_airmatch_events").checked = loadAirMatchEvents;
			
			var reducedOpt = localStorage.getItem('load_optimization_history');
			if (reducedOpt === null || reducedOpt === "") {
				reducedOpt = true;
			} else {
				reducedOpt = JSON.parse(reducedOpt)
			}
			document.getElementById("load_optimization_history").checked = reducedOpt;
	
			var loadVCConfig = localStorage.getItem('load_vc_config');
			if (loadVCConfig === null || loadVCConfig === "") {
				loadVCConfig = true;
			} else {
				loadVCConfig = JSON.parse(loadVCConfig)
			}
			document.getElementById("load_vc_config").checked = loadVCConfig;
			
			checkScaleConfig();
	
		    var reachabilityPromise = new $.Deferred();
		    $.when(checkReachability(reachabilityPromise)).then(function () {
	
			});
		});
	</script>
	<!--   Main JS Files   -->
	<script src="assets/js/version.js?v=250128"></script>
	<script src="assets/js/main.js?v=250122"></script>
	<script src="assets/js/proxy.js?v=240920"></script>
	<script src="assets/js/hydra-main.js?v=241203"></script>
	<script src="assets/js/hydra.js?v=241203"></script>
</html>
